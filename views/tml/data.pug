doctype html
html
  head
    if file
      title= `Data for ${file}`
    else
      title No File Sent
    style(type="text/css").
      .hidden {
        display: none;
      }
  body(style="font-family:sans-serif;margin:0;background-color:#ddd;")
    .wrap--body(style="margin:1em;")
      if file
        h2 Data for 
          span(style="font-family:monospace;")= file
      else
        h2 No File Sent
      form(action="/tml"  method="GET")
        input(type="submit" value="Upload new file")
      if data
        .tlinks(style="max-width:1000px;")
          h3= `Number of TLinks: ${data.length}`
          .wrap--list(style="display:flex;flex-direction:row;justify-content:space-around;")
            .strs(style="height:200px;overflow-y:auto;width:300px;background-color:#fff;padding:2em;")
              h4 Strings
              pre= JSON.stringify(data.strs, null, 2)
            .stats(style="height:200px;overflow-y:auto;width:300px;background-color:#fff;padding:2em;")
              h4 Statistics
              pre= JSON.stringify(data.stats, null, 2)
        h3.text-xml(title="Click to toggle between text and original XML" style="cursor:pointer;text-decoration:underline;") Text / XML
        .file-contents(style="max-width:1000px;background-color:white;margin:1em;padding:2em;height:600px;overflow-y:auto;")
          pre.file-text(style="white-space:pre-wrap;")= data.text
          pre.file-xml.hidden(style="white-space:pre-wrap;")= data.xml
        script.
          document.querySelector('.text-xml').addEventListener('click', (e) => {
            document.querySelector('.file-text').classList.toggle('hidden')
            document.querySelector('.file-xml').classList.toggle('hidden')
          })
